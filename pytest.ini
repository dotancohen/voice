[pytest]
# Pytest configuration for Voice

# Test discovery
python_files = test_*.py
python_classes = Test*
python_functions = test_*
testpaths = tests

# Output options
addopts =
    -v
    --strict-markers
    --tb=short
    --color=yes
    -ra
    --cov=src
    --cov-report=html
    --cov-report=term-missing

# Markers for organizing tests
markers =
    unit: Unit tests for core functionality (database, config)
    gui: GUI integration tests (requires Qt/PySide6)
    tui: TUI tests (Textual terminal interface)
    cli: CLI tests (command-line interface)
    web: Web API tests (Flask REST API)
    integration: Integration tests (cross-interface, workflows, error handling)
    slow: Tests that take significant time to run

# Async test configuration
asyncio_mode = auto
asyncio_default_fixture_loop_scope = function

# Qt-specific settings
qt_api = pyside6

# Warnings
filterwarnings =
    error
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning
